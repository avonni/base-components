<template>
    <div class={computedMainContainerClass} data-element-id="main-container">
        <article class="avonni-profile-card">
            <div class={computedContainerClass} data-element-id="container">
                <header class={computedHeaderClass} data-element-id="header">
                    <span
                        if:true={backgroundAlternativeText}
                        class="slds-assistive-text"
                        >{backgroundAlternativeText}
                    </span>
                </header>
                <div class={computedAvatarClass} data-element-id="avatar">
                    <div
                        if:true={showAvatarFallbackIcon}
                        class={computedIconWrapperClass}
                        data-element-id="icon-wrapper"
                    >
                        <lightning-icon
                            class={computedIconClass}
                            alternative-text={avatarAlternativeText}
                            icon-name={avatarFallbackIconName}
                            title={avatarAlternativeText}
                            data-element-id="avatar-lightning-icon"
                        >
                        </lightning-icon>
                    </div>

                    <div
                        if:true={avatarSrc}
                        class="avonni-profile-card__image-wrapper"
                        data-element-id="image-wrapper"
                    >
                        <img
                            class={computedImageClass}
                            alt={avatarAlternativeText}
                            src={avatarSrc}
                            data-element-id="img"
                            onerror={handleImageError}
                        />
                    </div>

                    <div
                        if:true={showAvatarActions}
                        class="slds-is-absolute"
                        data-element-id="avatar-action"
                    >
                        <slot name="avataractions"></slot>
                    </div>
                </div>

                <div
                    class={computedTextContainerClass}
                    data-element-id="text-container"
                >
                    <template if:true={showHeaderSlot}>
                        <slot name="header"></slot>
                    </template>
                    <template if:false={showHeaderSlot}>
                        <span
                            class="
                                avonni-profile-card__text
                                avonni-profile-card__title
                            "
                            >{title}
                        </span>
                        <span
                            class="
                                avonni-profile-card__text
                                avonni-profile-card__subtitle
                            "
                            >{subtitle}
                        </span>
                    </template>
                </div>
                <div
                    if:true={showActions}
                    class={computedActionsClass}
                    data-element-id="avonni-actions"
                >
                    <slot name="actions"></slot>
                </div>
            </div>
            <div class="slds-card__body slds-card__body_inner">
                <slot></slot>
            </div>
            <footer if:true={showFooter} class="slds-card__footer">
                <slot name="footer"></slot>
            </footer>
        </article>
    </div>
</template>
