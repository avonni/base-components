<template>
    <div class={computedMainContainerClass} data-element-id="main-container">
        <article class="avonni-profile-card">
            <div class={computedContainerClass} data-element-id="container">
                <header class={computedHeaderClass} data-element-id="header">
                    <span
                        if:true={backgroundAlternativeText}
                        class="slds-assistive-text"
                        >{backgroundAlternativeText}</span
                    >
                </header>
                <div class={computedAvatarClass} data-element-id="avatar">
                    <div
                        if:true={showAvatarFallbackIcon}
                        class={isCircle}
                        data-element-id="icon-wrapper"
                    >
                        <c-primitive-avatar
                            alternative-text={avatarAlternativeText}
                            fallback-icon-name={avatarFallbackIconName}
                            size={primitiveAvatarSize}
                            variant={avatarVariant}
                            data-element-id="avatar-lightning-icon"
                        ></c-primitive-avatar>
                    </div>
                    <img
                        if:true={avatarSrc}
                        class={isCircle}
                        alt={avatarAlternativeText}
                        src={avatarSrc}
                        data-element-id="img"
                        onerror={handleImageError}
                    />
                    <template if:true={showAvatarActions}>
                        <div
                            class="slds-is-absolute"
                            data-element-id="avatar-action"
                        >
                            <slot name="avataractions"></slot>
                        </div>
                    </template>
                </div>

                <div
                    class="avonni-profile-card__flex-container slds-size_full"
                    data-element-id="text-container"
                >
                    <template if:true={showHeaderSlot}>
                        <slot name="header"></slot>
                    </template>
                    <template if:false={showHeaderSlot}>
                        <span
                            class="
                                avonni-profile-card__text
                                avonni-profile-card__title
                            "
                            >{title}</span
                        >
                        <span
                            class="
                                avonni-profile-card__text
                                avonni-profile-card__subtitle
                            "
                            >{subtitle}</span
                        >
                    </template>
                </div>
                <template if:true={showActions}>
                    <div
                        class="slds-is-absolute"
                        data-element-id="avonni-actions"
                    >
                        <slot name="actions"></slot>
                    </div>
                </template>
            </div>
            <div class="slds-card__body slds-card__body_inner">
                <slot></slot>
            </div>
            <template if:true={showFooter}>
                <footer class="slds-card__footer">
                    <slot name="footer"></slot>
                </footer>
            </template>
        </article>
    </div>
</template>
