<template>
    <div class={wrapperClass}>
        <!-- No items -->
        <c-media-object if:false={items} slot="title" vertical-align="center">
            <c-avatar
                if:true={hasAvatar}
                slot="figure"
                alternative-text={label}
                fallback-icon-name={avatarFallbackIconName}
                src={avatarSrc}
                hide-avatar-details="true"
            ></c-avatar>
            <h2 class="slds-text-heading_small">
                <a if:true={href} href={href}>{label}</a>
                <span if:false={href}>{label}</span>
            </h2>
        </c-media-object>

        <!-- Items -->
        <c-summary-detail
            if:true={items}
            title={label}
            full-width="true"
            remove-body-indentation="true"
            shrink-icon-name={shrinkIconName}
            expand-icon-name={expandIconName}
            ontoggle={handleToggle}
        >
            <div slot="actions" if:true={actions}>
                <template for:each={actions} for:item="action">
                    <lightning-button
                        key={action.name}
                        label={action.label}
                    ></lightning-button>
                </template>
            </div>
            <template if:true={items}>
                <template for:each={items} for:item="item">
                    <!-- Item -->
                    <c-primitive-relationship-graph-item
                        onselect={handleSelect}
                        key={item.name}
                        label={item.label}
                        name={item.name}
                        avatar-src={item.avatarSrc}
                        avatar-fallback-icon-name={item.avatarFallbackIconName}
                        href={item.href}
                        content-data={item.data}
                        groups={item.groups}
                        hide-default-actions={item.hideDefaultActions}
                        actions={item.actions}
                        selected={item.selected}
                        active-selection={item.activeSelection}
                        theme={itemTheme}
                    ></c-primitive-relationship-graph-item>
                </template>
            </template>
        </c-summary-detail>
    </div>
</template>
