<template>
    <div class="slds-color-picker__custom">
        <div
            class={computedDisabledClass}
            onclick={handleClickPalet}
            onmousedown={handleMouseDown}
        >
            <div
                if:false={disabled}
                class="slds-color-picker__range-indicator"
                aria-atomic="true"
                aria-describedby="color-picker-instructions"
                aria-live="assertive"
            ></div>
        </div>
        <div class="slds-color-picker__hue-and-preview">
            <input
                class="slds-color-picker__hue-slider"
                disabled={disabledInput}
                max="359"
                min="0"
                type="range"
                value={colors.H}
                data-element-id="input"
                onblur={handleBlur}
                onchange={handleChange}
                onfocus={handleFocus}
                oninput={handleInput}
            />
            <span class="slds-swatch"></span>
        </div>
        <div
            if:true={opacity}
            class="slds-color-picker__hue-and-preview avonni-opacity"
        >
            <input
                class="slds-color-picker__hue-slider avonni-opacity-input"
                disabled={disabledInput}
                max="1"
                min="0"
                step="0.01"
                type="range"
                value={colors.A}
                data-element-id="input"
                onblur={handleBlur}
                onfocus={handleFocus}
                oninput={handleInputOpacity}
            />
        </div>
        <div class="slds-color-picker__custom-inputs">
            <div
                if:true={opacity}
                class="slds-form-element slds-color-picker__input-custom-hex"
            >
                <label class="slds-form-element__label">Hexa</label>
                <div class="slds-form-element__control">
                    <input
                        class="slds-input"
                        disabled={disabledInput}
                        type="text"
                        value={colorValue}
                        data-element-id="input"
                        onblur={handleBlur}
                        onfocus={handleFocus}
                        oninput={handleInputColor}
                    />
                </div>
            </div>
            <div
                if:false={opacity}
                class="slds-form-element slds-color-picker__input-custom-hex"
            >
                <label class="slds-form-element__label">Hex</label>
                <div class="slds-form-element__control">
                    <input
                        class="slds-input"
                        disabled={disabledInput}
                        type="text"
                        value={colors.hex}
                        data-element-id="input"
                        onblur={handleBlur}
                        onfocus={handleFocus}
                        oninput={handleInputColor}
                    />
                </div>
            </div>
            <div class="slds-form-element avonni-color-input">
                <label class="slds-form-element__label">
                    <abbr title="Red">R</abbr>
                </label>
                <div class="slds-form-element__control">
                    <input
                        class="slds-input"
                        disabled={disabledInput}
                        type="text"
                        value={colors.R}
                        data-element-id="input"
                        onblur={handleBlur}
                        onfocus={handleFocus}
                        oninput={handleInputRed}
                    />
                </div>
            </div>
            <div class="slds-form-element avonni-color-input">
                <label class="slds-form-element__label">
                    <abbr title="Green">G</abbr>
                </label>
                <div class="slds-form-element__control">
                    <input
                        class="slds-input"
                        disabled={disabledInput}
                        type="text"
                        value={colors.G}
                        data-element-id="input"
                        onblur={handleBlur}
                        onfocus={handleFocus}
                        oninput={handleInputGreen}
                    />
                </div>
            </div>
            <div class="slds-form-element avonni-color-input">
                <label class="slds-form-element__label">
                    <abbr title="blue">B</abbr>
                </label>
                <div class="slds-form-element__control">
                    <input
                        class="slds-input"
                        disabled={disabledInput}
                        type="text"
                        value={colors.B}
                        data-element-id="input"
                        onblur={handleBlur}
                        onfocus={handleFocus}
                        oninput={handleInputBlue}
                    />
                </div>
            </div>
            <div if:true={opacity} class="slds-form-element avonni-color-input">
                <label class="slds-form-element__label">
                    <abbr title="alpha">A</abbr>
                </label>
                <div class="slds-form-element__control">
                    <input
                        class="slds-input"
                        disabled={disabledInput}
                        type="text"
                        value={colors.A}
                        data-element-id="input"
                        onblur={handleBlur}
                        onfocus={handleFocus}
                        oninput={handleInputAlpha}
                    />
                </div>
            </div>
        </div>
        <p if:true={showError} class="slds-form-error">{messageWhenBadInput}</p>
    </div>
</template>
