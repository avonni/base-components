<template>
    <div class={wrapperClass}>
        <!-- Current level -->
        <div class={currentLevelClass}>
            <template for:each={groups} for:item="group">
                <c-primitive-relationship-graph-group
                    onselect={handleSelect}
                    oncloseactivegroup={handleCloseActiveGroup}
                    onactionclick={dispatchActionClickEvent}
                    key={group.name}
                    label={group.label}
                    name={group.name}
                    avatar-src={group.avatarSrc}
                    avatar-fallback-icon-name={group.avatarFallbackIconName}
                    href={group.href}
                    items={group.items}
                    expanded={group.expanded}
                    hide-default-actions={group.hideDefaultActions}
                    custom-actions={group.actions}
                    shrink-icon-name={shrinkIconName}
                    expand-icon-name={expandIconName}
                    active={activeGroups}
                    default-actions={groupActions}
                    actions-position={groupActionsPosition}
                    theme={groupTheme}
                    item-actions={itemActions}
                    item-theme={itemTheme}
                    hide-items-count={hideItemsCount}
                ></c-primitive-relationship-graph-group>
            </template>
        </div>
        <!-- Vertical line -->
        <div class={lineClass} if:true={selectedGroups}></div>
        <!-- Selected level -->
        <div class="slds-grid" if:true={selectedGroups}>
            <c-primitive-relationship-graph-level
                onselect={dispatchSelectEvent}
                onactionclick={dispatchActionClickEvent}
                groups={selectedGroups}
                variant={variant}
                shrink-icon-name={shrinkIconName}
                expand-icon-name={expandIconName}
                active-groups={containsActiveItem}
                group-actions={groupActions}
                group-actions-position={groupActionsPosition}
                group-theme={groupTheme}
                item-actions={itemActions}
                item-theme={itemTheme}
                hide-items-count={hideItemsCount}
            ></c-primitive-relationship-graph-level>
        </div>
    </div>
</template>
