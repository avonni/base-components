<template>
    <div
        class={computedWrapperClass}
        role="presentation"
        data-element-id="div-wrapper"
    >
        <div
            class={computedOptionClass}
            role="option"
            aria-labelledby="option-label"
            aria-selected={selected}
            tabindex={computedTabIndex}
            draggable={draggable}
            data-element-id="dual-listbox-option"
        >
            <div if:true={showAvatar} class="slds-media__figure">
                <c-avatar
                    aria-hidden="true"
                    fallback-icon-name={avatar.fallbackIconName}
                    initials={avatar.initials}
                    presence={avatar.presence}
                    presence-position={avatar.presencePosition}
                    primary-text={avatar.primaryText}
                    secondary-text={avatar.secondaryText}
                    size={avatar.size}
                    src={avatar.src}
                    variant={avatar.variant}
                    data-element-id="avonni-avatar"
                ></c-avatar>
            </div>
            <div if:false={avatar.primaryText} class="slds-media__body">
                <span class="slds-truncate" aria-hidden="true">{label}</span>
            </div>
            <div
                if:true={isLocked}
                class="slds-media__figure slds-media__figure_reverse"
            >
                <lightning-icon
                    alternative-text={lockAlternativeText}
                    icon-name="utility:lock"
                    size="x-small"
                    data-element-id="lightning-lock-icon"
                ></lightning-icon>
            </div>
            <span
                id="option-label"
                class="slds-assistive-text"
                data-element-id="div-assistive-text"
                >{computedAriaLabel}</span
            >
        </div>
    </div>
</template>
