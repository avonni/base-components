<template>
    <button
        class="
            slds-button
            slds-color-picker__summary-button
            slds-button_icon slds-button_icon-more
        "
        disabled={disabled}
        type="button"
        data-element-id="button"
        onclick={handleColorPickerToggleClick}
    >
        <span style={colorInputStyle} class="slds-swatch" data-id="thumbnail">
            <span class="slds-assistive-text">{i18n.a11yTriggerText}</span>
        </span>
        <c-primitive-icon
            icon-name="utility:down"
            svg-class="slds-button__icon slds-button__icon_small"
            variant="bare"
        ></c-primitive-icon>
        <span class="slds-assistive-text a11y-color-value">{value}</span>
    </button>
    <template if:true={isColorPickerPanelOpen}>
        <c-color-picker-panel
            class="color-picker-panel"
            current-color={value}
            data-element-id="avonni-color-picker-panel"
            onupdatecolor={handleUpdateColorEvent}
        >
        </c-color-picker-panel>
    </template>
</template>
