<template>
    <div
        if:true={label}
        class="
            slds-form-element__legend slds-form-element__label
            slds-float_none
            slds-m-horizontal_xx-small
        "
        id="group-label"
        role="presentation"
    >
        {label}
    </div>
    <ul role="group" aria-labelledby="group-label">
        <template for:each={colors} for:item="color">
            <li
                key={generateKey}
                class={color.wrapperClass}
                aria-selected={color.ariaSelected}
                role="option"
                data-color={color.color}
                data-token={color.value}
                onclick={handleClick}
            >
                <a
                    aria-disabled={disabled}
                    aria-readonly={readOnly}
                    href="javascript:void(0)"
                    role="menuitemradio"
                    onblur={handleBlur}
                    ondblclick={handleDblClick}
                    onfocus={handleFocus}
                >
                    <span
                        class="slds-truncate"
                        aria-label={color.label}
                        title={color.label}
                    >
                        <lightning-icon
                            class="
                                slds-icon_selected
                                slds-icon-text-default
                                slds-m-right_x-small
                            "
                            alternative-text="Checked"
                            aria-hidden="true"
                            icon-name="utility:check"
                            size="x-small"
                        ></lightning-icon>
                        {color.label}
                    </span>
                    <div role="presentation">
                        <div class="slds-color-picker__swatch-trigger">
                            <span
                                class="
                                    slds-swatch
                                    avonni-primitive-color-palette-group__swatch
                                "
                                style={color.swatchStyle}
                            >
                                <p class="slds-assistive-text">{color.color}</p>
                            </span>
                        </div>
                    </div>
                </a>
            </li>
        </template>
    </ul>
</template>
